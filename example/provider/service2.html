<!DOCTYPE html>
<!--suppress ALL -->
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>value service</title>
  <script src="https://cdn.bootcss.com/angular.js/1.4.6/angular.min.js"></script>
</head>

<body>
<div ng-app="app" ng-controller="MainCtrl">
  <p>{{foo}}</p>
</div>
<script>
  var app = angular.module('app', [])

  app.service('foo', function() {
      var thisIsPrivate = 'private';
      this.name = 'bill';
      this.variable = "This is public";
      this.getPrivate = function() {
          return thisIsPrivate;
      };
      this.setName = function (name) {
        console.log(this.name);
        this.name = name;
      }
  });

  /*
  // 只有provider在定义后可以再配置
  app.config(function (fooProvider) { // angular.js:38 Uncaught Error: [$injector:modulerr]
    fooProvider.setName('linus');
  });
  */

  app.controller('MainCtrl', function ($scope, foo) {
    $scope.foo = foo.variable;
    alert(foo.getPrivate());
  })
</script>
</body>

</html>
